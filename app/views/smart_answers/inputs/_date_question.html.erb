<% form_contents = capture do %>
  <% if question.body.present? %>
    <%= question.body %>
  <% end %>

  <%= render "govuk_publishing_components/components/date_input", {
    error_message: question.error,
    hint: question.hint,
    items: [
      question.default_day ? nil : {
        label: "Day",
        name: "response[day]",
        id: "response-0",
        width: 2,
        value: question.parsed_response[:day],
      },
      question.default_month ? nil : {
        label: "Month",
        name: "response[month]",
        id: "response-1",
        width: 2,
        value: question.parsed_response[:month],
      },
      question.default_year ? nil : {
        label: "Year",
        name: "response[year]",
        id: "response-2",
        width: 4,
        value: question.parsed_response[:year],
      }
    ].compact
  } %>
<% end %>

<%= render "smart_answers/inputs/caption", question: question %>
<%= render "govuk_publishing_components/components/fieldset", {
  legend_text: question.title,
  heading_level: 1,
  heading_size: "l",
  text: form_contents
} %>
